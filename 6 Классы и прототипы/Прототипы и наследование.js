// –ü—Ä–æ—Ç–æ—Ç–∏–ø ‚Äî —ç—Ç–æ –∑–∞–ø–∞—Å–Ω–æ–π —è—â–∏–∫ —Å –º–µ—Ç–æ–¥–∞–º–∏, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ–±—ä–µ–∫—Ç –æ–±—Ä–∞—â–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —É –Ω–µ–≥–æ —Å–∞–º–æ–≥–æ —á–µ–≥–æ-—Ç–æ –Ω–µ—Ç.

// üëâ –í JavaScript –æ–±—ä–µ–∫—Ç—ã —É–º–µ—é—Ç ‚Äú–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å‚Äù —Å–≤–æ–π—Å—Ç–≤–∞ –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞.
// üëâ –≠—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã.
// üëâ –ï—Å–ª–∏ JS –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ –≤ –æ–±—ä–µ–∫—Ç–µ ‚Äî –æ–Ω –∏–¥—ë—Ç –≤—ã—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ.

// -------------------------------------------------------------------------------------
// –ß–µ–º –º–µ—Ç–æ–¥—ã –≤ prototype –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ this?
function User(name) {
	this.name = name;
	this.sayHi = function () {
		console.log(this.name);
	};
} // ‚ùå –ü–ª–æ—Ö–æ: –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ—é –∫–æ–ø–∏—é —Ñ—É–Ω–∫—Ü–∏–∏

// –ß–µ—Ä–µ–∑ prototype
User.prototype.sayHi = function () {
	console.log(this.name);
}; // ‚úÖ –•–æ—Ä–æ—à–æ: –æ–¥–∏–Ω –º–µ—Ç–æ–¥ ‚Üí –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤

const user = new User('–ö–∞—Ç—è');
user.__proto__ === User.prototype; // true
// üëâ __proto__ ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø
// üëâ prototype ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±–µ—Ä—ë—Ç—Å—è __proto__

// –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ prototype –ü–û–°–õ–ï —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤?
const u1 = new User('–ö–∞—Ç—è');

User.prototype.sayBye = function () {
	console.log('–ü–æ–∫–∞');
};

u1.sayBye(); // —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ –î–∞, –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ–ª—É—á–∞—Ç –¥–æ—Å—Ç—É–ø
// –ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ prototype, –∞ –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç –µ–≥–æ.

// –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤–∞ (—Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤)?
// 1Ô∏è‚É£ —Å–∞–º –æ–±—ä–µ–∫—Ç
// 2Ô∏è‚É£ –µ–≥–æ __proto__
// 3Ô∏è‚É£ __proto__.__proto__
// 4Ô∏è‚É£ Object.prototype
// 5Ô∏è‚É£ null ‚Üí —Å—Ç–æ–ø
u1.toString(); // –Ω–µ –≤ u1 ‚Üí –∏–¥—ë–º –≤–≤–µ—Ä—Ö ‚Üí –Ω–∞—à–ª–∏ –≤ Object.prototype
// ¬´–ï—Å–ª–∏ —É –º–µ–Ω—è –Ω–µ—Ç ‚Äî —Å–ø—Ä–æ—à—É —É —Ä–æ–¥–∏—Ç–µ–ª—è¬ª

// –ü–æ—á–µ–º—É –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å Object.prototype?
Object.prototype.sayHello = () => {};
// ‚ùå –ü–ª–æ—Ö–æ –ø–æ—Ç–æ–º—É —á—Ç–æ:
// –ª–æ–º–∞–µ—Ç —á—É–∂–æ–π –∫–æ–¥
// –≤–ª–∏—è–µ—Ç –Ω–∞ –í–°–ï –æ–±—ä–µ–∫—Ç—ã
// –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –±–∞–≥–∏
// üìå –≠—Ç–æ –∫–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —è–∑—ã–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≥–æ–≤–æ—Ä—è—Ç –≤—Å–µ.

// -------------------------------------------------------------------------------------
// –ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –≤ JavaScript?
// üëâ –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ ‚Äî —ç—Ç–æ –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É JS –∏—â–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ.
// 1Ô∏è‚É£ —Å–∞–º –æ–±—ä–µ–∫—Ç
// 2Ô∏è‚É£ –µ–≥–æ __proto__
// 3Ô∏è‚É£ __proto__.__proto__
// 4Ô∏è‚É£ Object.prototype
// 5Ô∏è‚É£ null ‚Üí —Å—Ç–æ–ø
obj.prop; // ¬´–ï—Å—Ç—å –ª–∏ prop —É obj? –ù–µ—Ç ‚Üí —Å–ø—Ä–æ—à—É —É –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞¬ª

// –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö?
obj.name = '–ö–∞—Ç—è'; // —Å–≤–æ–∏ = –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞
Object.prototype.sayHi = function () {}; // –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ = –≤—ã—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ

// –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: —Å–≤–æ–π—Å—Ç–≤–æ —Å–≤–æ—ë –∏–ª–∏ –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞?
obj.hasOwnProperty('prop'); // ‚ö†Ô∏è 'prop' in obj ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∫–ª—é—á–∞—è –ø—Ä–æ—Ç–æ—Ç–∏–ø, –±—É–¥—å –∞–∫–∫—É—Ä–∞—Ç–Ω–∞
// true ‚Üí —Å–≤–æ—ë
// false ‚Üí —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω–æ–µ

// –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º —á–µ—Ä–µ–∑ Object.create?
const animall = {
	eat() {
		console.log('–ï–º');
	},
};

const dogg = Object.create(animal); // üìå animal —Å—Ç–∞–ª –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º –¥–ª—è dog
dog.eat(); // —Ä–∞–±–æ—Ç–∞–µ—Ç

// –ú–µ—Ç–æ–¥ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –æ–±—ä–µ–∫—Ç–µ, –Ω–æ –µ—Å—Ç—å –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ ‚Äî —á—Ç–æ –±—É–¥–µ—Ç?
dog.eat = function () {
	console.log('–ï–º –∫–æ—Ä–º'); // –≤–æ–∑—å–º—ë—Ç –º–µ—Ç–æ–¥ –∏–∑ –æ–±—ä–µ–∫—Ç–∞, –∞ –Ω–µ –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞
}; // –æ–±—ä–µ–∫—Ç –≤—Å–µ–≥–¥–∞ –≤–∞–∂–Ω–µ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

u instanceof User; // –ø—Ä–æ–≤–µ—Ä—è–µ–º: –µ—Å—Ç—å –ª–∏ User.prototype –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ u

// –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –≤ Object.prototype?
Object.prototype.hack = true;
// ‚ùå –ü–æ—Ç–æ–º—É —á—Ç–æ:
// –ø–æ—è–≤–ª—è–µ—Ç—Å—è —É –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
// –ª–æ–º–∞–µ—Ç for...in
// –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
// üìå –≠—Ç–æ –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤—Å–µ–º –ª—é–¥—è–º –Ω–∞ –ø–ª–∞–Ω–µ—Ç–µ

// –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–æ–¥ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞, –µ—Å–ª–∏ –æ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω?
Object.getPrototypeOf(obj).method.call(obj);
User.prototype.sayHi.call(u); // –ú—ã –ø—Ä—è–º–æ –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É

// –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–≤–æ–π—Å—Ç–≤—É, –Ω–æ –æ–Ω–æ –µ—Å—Ç—å –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ?
obj.toString(); // –∏–∑ Object.prototype
// –ï—Å–ª–∏ –Ω–∏–≥–¥–µ –Ω–µ—Ç ‚Üí undefined

// –ö–∞–∫ for...in –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞?
for (let key in obj) {
	console.log(key);
} // —Å–≤–æ–∏, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ

// ‚ùó –ü–æ—ç—Ç–æ–º—É —á–∞—Å—Ç–æ –ø–∏—à—É—Ç —Ç–∞–∫:
if (obj.hasOwnProperty(key)) {
}

// –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–æ–≤—É—à–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
function Vehicle(type) {
	this.type = type; // type –ù–ï –ª–µ–∂–∏—Ç –Ω–∏–≥–¥–µ (–µ–≥–æ –Ω–∏–∫—Ç–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª)
}
Vehicle.prototype.start = function () {
	console.log(`${this.type} started`);
};

function Car(model) {
	// Vehicle.call(this, 'car'); // üëà –≤–æ—Ç —ç—Ç–æ –∫–ª—é—á
	this.model = model;
}

Car.prototype = Object.create(Vehicle.prototype);
//‚ùó Vehicle –ù–ï –≤—ã–∑—ã–≤–∞–ª—Å—è, –∑–Ω–∞—á–∏—Ç: this.type = type; // ‚ùå –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–æ—Å—å

Car.prototype.constructor = Car;

const car = new Car('BMW');

car.start(); // undefined started
console.log(car.type); // undefined
console.log(car.model); // BMW

//  –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—Ä–æ–≤–Ω—è–º–∏
const gp = { grand: 'grandparent' }; // —Å–∞–º—ã–π –≤–µ—Ä—Ö
const p = Object.create(gp); // p.__proto__ ‚Üí gp
p.parent = 'parent'; // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ p
const c = Object.create(p); // c.__proto__ ‚Üí p
c.child = 'child'; // —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ c
//  –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ (–≠–¢–û –ö–õ–Æ–ß)
// c
// ‚îÇ  child
// ‚îÇ
// ‚ñº
// p
// ‚îÇ  parent
// ‚îÇ
// ‚ñº
// gp
// ‚îÇ  grand
// ‚îÇ
// ‚ñº
// Object.prototype
// ‚îÇ
// ‚ñº
// null
// JS –∏–¥—ë—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥—ë—Ç —Å–≤–æ–π—Å—Ç–≤–æ.
console.log(c.child); // child
console.log(c.parent); // parent
console.log(c.grand); // grandparent
console.log(c.hasOwnProperty('grand')); // –ª–µ–∂–∏—Ç –ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –ü–†–Ø–ú–û –í –≠–¢–û–ú –æ–±—ä–µ–∫—Ç–µ? false

// -------------------------------------------------------------------------------------
// –ö–ª–∞—Å—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
// –ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä—ã (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ)
// –≠–∫—Å–∑–µ–º–ø–ª—è—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã
// –ù–∞—Å–ª–µ–¥—É—é—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤

// –≤—Å—è —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤
// (js –Ω–µ —è–≤–ª—è–µ—Ç—å—Å—è –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ–±—ä–µ–∫—Ç–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è)

class Comment {
	constructor(text) {
		this.text = text;
		this.votesQty = 0;
	}
	upvote() {
		this.votesQty += 1;
	}
}

// —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏—è)
const firsComment = new Comment('First comment');
console.log(firsComment);

// –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏
firsComment instanceof Comment; // true
firsComment instanceof Object; // true

// –≤—ã–∑–æ–≤ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
firsComment.upvote();
console.log(firsComment.votesQty); // 1
firsComment.upvote();
console.log(firsComment.votesQty); // 2

// –ü—Ä–∏–º–µ—Ä —Å –≤–∏–¥–µ–æ
function Auto(brand, price, gas) {
	this.brand = brand;
	this.price = price;
	this.gas = gas;
	this.discount = '20%';
}

Auto.prototype.drive = function () {
	if (this.gas > 0) {
		this.gas = this.gas - 20;
		return this.gas;
	} else {
		console.log('–ë–µ–Ω–∑–∏–Ω –∑–∞–∫–æ–Ω—á–∏–ª—Å—è!');
	}
};

Auto.prototype.discount = '70%';

Auto.prototype.info = function () {
	return `–°—Ç–æ–∏–º–æ—Å—Ç—å ${this.brand} = ${this.price}`;
};

Auto.prototype.info = function () {
	return `–£—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–ª–∏–≤–∞ ${this.brand} = ${this.price}`;
};

const bmw = new Auto('bmw', '100, 000', 100);
const nissan = new Auto('nissan', '40, 000', 100);

// –§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
function Person(name, birtYear) {
	this.name = name;
	this.birtYear = birtYear;
}

const alex = new Person('Alex', 2000);

// 1 –°–æ–∑–¥–∞—ë—Ç—å—Å—è –Ω–æ–≤—ã–π –ø—É—Å—Ç–æ–π –æ–±—å–µ–∫—Ç: {}
// 2 –§—É–Ω–∫—Ü–∏—è Person –≤—ã–∑—ã–≤–∞–µ—Ç—å—Å—è, –∞ this —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤—ã–π –æ–±—å–µ–∫—Ç
// 3 –û–±—å–µ–∫—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ this
// 4 –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—å–µ–∫—Ç

Person.prototype.calAge = function () {
	console.log(2025 - this.birtYear);
};

// [[prototype]] === Person.prototype

// alex.calAge()

// –ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
const animal = {
	eat: true,
};

const rabit = {
	just: true,
	__proto__: animal, // –º–æ–∂–Ω–æ –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
};

const dog = {
	run: true,
};

rabit.__proto = animal;
dog.__proto = rabit;

console.log(rabit.eat);
console.log(dog.just);
console.log(dog.eat);
