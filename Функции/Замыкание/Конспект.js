// Ð—Ð°Ð¼Ñ‹ÐºÐ°Ð½Ð¸Ðµ â€” ÑÑ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ "Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚" Ð›ÐµÐºÑÐ¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¾Ð½Ð° Ð±Ñ‹Ð»Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð°, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ ÑÑ‚Ð¾ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ ÑƒÐ¶Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ.

// Ð›ÐµÐºÑÐ¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ - Ð½ÐµÐ²Ð¸Ð´Ð¸Ð¼Ñ‹Ð¹ Ð¾Ð±ÑŠÐµÐºÑ‚ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÐµÑÑ‚ÑŒ Ñƒ Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ð±Ð»Ð¾ÐºÐ°, ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð¸Ð»Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

// ÐšÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ ÑÐ¾Ð·Ð´Ð°Ñ‘ÑˆÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð²Ð½ÐµÑˆÐ½ÐµÐ¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð°Ð¶Ðµ Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð²Ð½ÐµÑˆÐ½ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ ÑƒÐ¶Ðµ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ð»Ð° ÑÐ²Ð¾ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ.

function makeCounter(start) {
	let count = start;
	return function () {
		return count++;
	};
}

const counter = makeCounter(10);
console.log(counter()); // 10
console.log(counter()); // 11
console.log(counter()); // 12

// Ð“Ð´Ðµ ÑÑ‚Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾?
// * Ð¡Ñ‡Ñ‘Ñ‚Ñ‡Ð¸ÐºÐ¸, Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (Ð¸Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸Ñ), Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ Ð¿Ð°Ð¼ÑÑ‚ÑŒÑŽ Ð¾ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ñ… Ð²Ñ‹Ð·Ð¾Ð²Ð°Ñ….
// * Ð’ ÐºÐ¾Ð»Ð±ÑÐºÐ°Ñ…, Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸ÑÑ…, Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹.

// Ð—Ð°Ð¼Ñ‹ÐºÐ°Ð½Ð¸Ðµ â€” ÑÑ‚Ð¾ ÐºÐ°Ðº ÐµÑÐ»Ð¸ Ð±Ñ‹ Ñ‚Ñ‹ ÑƒÐ²Ð¾Ð»Ð¸Ð»ÑÑ Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹, Ð½Ð¾ Ð·Ð°Ð±Ñ€Ð°Ð» Ñ ÑÐ¾Ð±Ð¾Ð¹ ÐºÐ»ÑŽÑ‡Ð¸ Ð¾Ñ‚ Ð¾Ñ„Ð¸ÑÐ°. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð·Ð°Ð¹Ñ‚Ð¸ Ñ‚ÑƒÐ´Ð° Ð² Ð»ÑŽÐ±Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ, Ñ…Ð¾Ñ‚Ñ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ñ‚ÐµÐ±Ñ ÑƒÐ¶Ðµ Ð½ÐµÑ‚ Ð² ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸.

//Ð—Ð°Ð´Ð°Ñ‡Ð°
function createIncrement() {
	let count = 0; // Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÑ‡Ñ‘Ñ‚Ñ‡Ð¸ÐºÐ°
	function increment() {
		count++; // ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ count Ð½Ð° 1
	}

	let message = `Count is ${count}`; // ÑÐ¾Ð·Ð´Ð°Ñ‘Ð¼ ÑÑ‚Ñ€Ð¾ÐºÑƒ message Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ count
	// ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ "Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚" Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð² Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ.
	// Ð¨Ð°Ð±Ð»Ð¾Ð½Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð½Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ ÑÐ°Ð¼Ð°.
	//  ðŸŽ® ÐÐ½Ð°Ð»Ð¾Ð³Ð¸Ñ - ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñ‡Ñ‚Ð¾:
	//  count â€” ÑÑ‚Ð¾ Ñ‡Ð¸ÑÐ»Ð¾ Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¾, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¼ÐµÐ½ÑÑ‚ÑŒÑÑ.
	//  message â€” Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ð°Ð±Ð»Ð¾.
	//  ÐšÐ¾Ð³Ð´Ð° Ñ‚Ñ‹ ÑÐ¾Ð·Ð´Ð°Ñ‘ÑˆÑŒ message, Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑŽ Ð² ÑÑ‚Ð¾Ñ‚ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚, ÐºÐ¾Ð³Ð´Ð° Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¾ Ð±Ñ‹Ð»Ð¾ 0.
	//  ÐŸÐ¾Ñ‚Ð¾Ð¼ Ñ‚Ð°Ð±Ð»Ð¾ (count) Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ â€” 1, 2, 3â€¦
	//  ÐÐ¾ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ ÑÑ‚Ð°Ñ€Ð¾Ð¹ â€” Ð½Ð° Ð½ÐµÐ¹ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ â€œ0â€.
	//  log() Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚ ÑÑ‚Ñƒ ÑÑ‚Ð°Ñ€ÑƒÑŽ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑŽ.

	function log() {
		console.log(message); // Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ message Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ
	}

	return [increment, log]; // Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð´Ð²Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
}

const [increment, log] = createIncrement(); // Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð´Ð²Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ (Ð´ÐµÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼Ð°ÑÑÐ¸Ð²Ð°)
/**
Ð’ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¶Ð¸Ð·Ð½Ð¸ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ:
ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñ‡Ñ‚Ð¾ Ñ‚ÐµÐ±Ðµ Ð½Ð° Ð¿Ð¾Ñ‡Ñ‚Ðµ Ð²Ñ‹Ð´Ð°Ð»Ð¸ ÐºÐ¾Ñ€Ð¾Ð±ÐºÑƒ Ñ Ð´Ð²ÑƒÐ¼Ñ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð°Ð¼Ð¸:
ÐŸÐµÑ€Ð²Ñ‹Ð¹ â€” Ñ€ÑƒÑ‡ÐºÐ°
Ð’Ñ‚Ð¾Ñ€Ð¾Ð¹ â€” ÐºÐ°Ñ€Ð°Ð½Ð´Ð°Ñˆ
Ð¢Ñ‹ ÑÑ€Ð°Ð·Ñƒ Ð´Ð¾ÑÑ‚Ð°Ñ‘ÑˆÑŒ Ñ€ÑƒÑ‡ÐºÑƒ Ð² Ð¾Ð´Ð½Ñƒ Ñ€ÑƒÐºÑƒ, ÐºÐ°Ñ€Ð°Ð½Ð´Ð°Ñˆ â€” Ð² Ð´Ñ€ÑƒÐ³ÑƒÑŽ.
Ð’Ð¾Ñ‚ ÑÑ‚Ð¾ Ð¸ ÐµÑÑ‚ÑŒ Ð´ÐµÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ: ÑÑ€Ð°Ð·Ñƒ "Ñ€Ð°ÑÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÐµÑˆÑŒ" ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ ÐºÐ¾Ñ€Ð¾Ð±ÐºÐ¸ Ð¿Ð¾ Ð¼ÐµÑÑ‚Ð°Ð¼.
 */

increment(); // ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ count Ð½Ð° 1 (count = 1)
increment(); // ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ count Ð½Ð° 1 (count = 2)
increment(); // ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ count Ð½Ð° 1 (count = 3)

log(); // Ð§Ñ‚Ð¾ Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚ÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ?

//  ÐšÐ°Ðº Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÐºÐ¾Ð´ Ð´Ð»Ñ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ?
// ÐŸÐ¾Ð¼ÐµÑÑ‚Ð¸Ñ‚ÑŒ message Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ log()
function log() {
	let message = `Count is ${count}`; // Ñ‚ÐµÐ¿ÐµÑ€ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ log!
	console.log(message);
}

function makeCounter(count) {
	return function () {
		// return ++count; // ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼
		return count++; //  Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° 0 Ð¸ Ð·Ð°Ñ‚ÐµÐ¼ ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ
	};
}

let counter1 = makeCounter(0);
let counter2 = makeCounter(0);

console.log(counter1());
console.log(counter1());

console.log(counter2());
console.log(counter2());

// 1
const createCounter = () => {
	let counter = 0;
	return () => {
		return counter++;
	};
};

const counter11 = createCounter();
const counter22 = createCounter();

console.log(counter11());
console.log(counter11());
console.log(counter11());
console.log(counter22());

// 2
const createToggler = () => {
	let toggler = false;
	return () => {
		toggler = !toggler;
		return toggler;
	};
};

const toggler1 = createToggler();
const toggler2 = createToggler();

console.log(toggler1());
console.log(toggler1());
console.log(toggler1());
console.log(toggler2());
console.log(toggler2());

// 3 Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ
const createValidator = regExp => {
	return value => {
		return regExp.test(value);
	};
};

const nameValidator = createValidator(/\w+/gi);
const phoneValidator = createValidator(/\d+/gi);
const cardValidator = createValidator(/\d{4}\s\d{4}\s\d{4}\s\d{4}/gi);

console.log(nameValidator('Vlad'));
console.log(nameValidator('1234'));

console.log(phoneValidator('Vlad'));
console.log(phoneValidator('1234'));

console.log(cardValidator('1111 2222 3333 4444'));
console.log(cardValidator('1111 2222 3 333 4444'));

// 4
const createEncoder = number => {
	return value => {
		return value
			.split('')
			.map(symbol => {
				return String.fromCharCode(symbol.charCodeAt(0) * number);
			})
			.join('');
	};
};

const encoder1 = createEncoder(7);
const encoder2 = createEncoder(9);

console.log(encoder1('Vlad'));
console.log(encoder2('1234'));
