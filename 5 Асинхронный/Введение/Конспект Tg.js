// Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
// -------------------------------------

// 1. Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´?
// ÐŸÑ€ÐµÐ¶Ð´Ðµ Ñ‡ÐµÐ¼ ÑƒÐ³Ð»ÑƒÐ±Ð»ÑÑ‚ÑŒÑÑ Ð² Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ,
// Ñ€Ð°Ð·Ð±ÐµÑ€Ñ‘Ð¼ÑÑ Ñ Ñ‚ÐµÐ¼, ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´.

// 1ï¸âƒ£ Ð‘Ð¾Ð»ÑŒÑˆÐ°Ñ Ñ‡Ð°ÑÑ‚ÑŒ ÐºÐ¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ñ‹ Ð¿Ð¸ÑˆÐµÐ¼, ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¼.
// Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¾Ð½ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð±ÐµÐ· Ð¿Ð°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸.
// 2ï¸âƒ£ ÐšÐ¾Ð´ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð·Ð° ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð¹ Ð² call stack (ÑÑ‚ÐµÐºÐµ Ð²Ñ‹Ð·Ð¾Ð²Ð¾Ð²).
// Call stack â€” ÑÑ‚Ð¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…, ÐºÑƒÐ´Ð° Ð¿Ð¾Ð¿Ð°Ð´Ð°ÑŽÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸
// Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ.
// 3ï¸âƒ£ ÐšÐ°Ð¶Ð´Ð°Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¶Ð´Ñ‘Ñ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹,
// Ð¿Ñ€ÐµÐ¶Ð´Ðµ Ñ‡ÐµÐ¼ Ð½Ð°Ñ‡Ð½Ñ‘Ñ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒÑÑ.
// 4ï¸âƒ£ Ð•ÑÐ»Ð¸ Ð¾Ð´Ð½Ð° Ð¸Ð· ÑÑ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð´Ð¾Ð»Ð³Ð¾,
// Ð¾Ð½Ð° Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹.

// ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°:
const btn = document.createElement('button');
// Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ ÐºÐ½Ð¾Ð¿ÐºÑƒ â€” Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾

btn.innerText = 'Click me';
// Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ñ‚ÐµÐºÑÑ‚ ÐºÐ½Ð¾Ð¿ÐºÐ¸
// Ð­Ñ‚Ð° ÑÑ‚Ñ€Ð¾ÐºÐ° ÐÐ• Ð½Ð°Ñ‡Ð½Ñ‘Ñ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒÑÑ, Ð¿Ð¾ÐºÐ° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð½Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑÑ

btn.style.backgroundColor = 'blue';
// ÐœÐµÐ½ÑÐµÐ¼ Ñ†Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸
// Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ñ‚ÐµÐºÑÑ‚Ð°

btn.style.color = 'white';
// ÐœÐµÐ½ÑÐµÐ¼ Ñ†Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°
// Ð¢Ð°ÐºÐ¶Ðµ Ð¶Ð´Ñ‘Ñ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸

// ÐšÐ°Ð¶Ð´Ð°Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¶Ð´Ñ‘Ñ‚, Ð¿Ð¾ÐºÐ° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ,
// Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð° Ñ€Ð°Ð½ÑŒÑˆÐµ.
// Ð˜Ð¼ÐµÐ½Ð½Ð¾ ÑÑ‚Ð¾ Ð¸ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¾Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°:
// ÐµÑÐ»Ð¸ Ð¾Ð´Ð½Ð° Ð¸Ð· Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸,
// Ð¾Ð½Ð° Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð²ÑÐµÐ¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹.

// Ð’ Ð¸Ñ‚Ð¾Ð³Ðµ:
// ðŸ‘‰ Ð´Ð¾Ð»Ð³Ð¸Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÑŽÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð²ÑÐµÐ¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹.

// ðŸ”´ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°
// ----------------------------

// ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñ‡Ñ‚Ð¾ Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ 5 ÑÐµÐºÑƒÐ½Ð´.
// Ð­Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÐÐ˜Ð§Ð•Ð“Ðž Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð²ÑÑ‘ ÑÑ‚Ð¾ Ð²Ñ€ÐµÐ¼Ñ.

// Ð”Ð»Ñ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð²ÐµÐ±Ð° Ð´Ð°Ð¶Ðµ 1 ÑÐµÐºÑƒÐ½Ð´Ð° Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¸ â€” ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð°.
// ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑÐ°Ð¹Ñ‚ ÐºÐ°Ðº "ÑÐ»Ð¾Ð¼Ð°Ð½Ð½Ñ‹Ð¹" Ð¸Ð»Ð¸ "Ñ‚Ð¾Ñ€Ð¼Ð¾Ð·ÑÑ‰Ð¸Ð¹".

// 2. ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´?
// --------------------------------

// ÐÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ ÐÐ• Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹.
// Ð’Ð¼ÐµÑÑ‚Ð¾ Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð´Ð¾Ð»Ð³Ð¾Ð¹ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸,
// Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸,
// Ð° Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð·Ð¶Ðµ.

// Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÑÑ‚Ð¾ Ð½Ð° Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ setTimeout():

// â¬‡ï¸ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐ«Ð™ ÐšÐžÐ” (Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ, Ð² call stack)
const btn = document.createElement('button');
// Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ ÐºÐ½Ð¾Ð¿ÐºÑƒ â€” Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾

btn.innerText = 'Click me';
// Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ñ‚ÐµÐºÑÑ‚ ÐºÐ½Ð¾Ð¿ÐºÐ¸
// Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¶Ð´Ñ‘Ñ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð¹

btn.style.color = 'white';
// ÐœÐµÐ½ÑÐµÐ¼ Ñ†Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð° ÐºÐ½Ð¾Ð¿ÐºÐ¸

// â± ÐÐ¡Ð˜ÐÐ¥Ð ÐžÐÐÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬
setTimeout(() => {
	// Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð´ ÐÐ• Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ
	btn.style.backgroundColor = 'green';
	// Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð»Ð±ÑÐº Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• Ñ‚Ð¾Ð³Ð¾,
	// ÐºÐ°Ðº Ð¸ÑÑ‚ÐµÑ‡Ñ‘Ñ‚ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ (2000 Ð¼Ñ)
}, 2000);

// setTimeout:
// 1ï¸âƒ£ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ¾Ð»Ð±ÑÐº
// 2ï¸âƒ£ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ñƒ (Ð² Ñ„Ð¾Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑ‹)
// 3ï¸âƒ£ ÐÐ• Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

// â¬‡ï¸ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐ«Ð™ ÐšÐžÐ” ÐŸÐ ÐžÐ”ÐžÐ›Ð–ÐÐ•Ð¢ Ð’Ð«ÐŸÐžÐ›ÐÐ¯Ð¢Ð¬Ð¡Ð¯
document.body.appendChild(btn);
// ÐšÐ½Ð¾Ð¿ÐºÐ° Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ Ð¡Ð ÐÐ—Ð£,
// Ð½Ðµ Ð´Ð¾Ð¶Ð¸Ð´Ð°ÑÑÑŒ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°

// ----------------------------
// ðŸ§  ÐšÐ°Ðº ÑÑ‚Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´ ÐºÐ°Ð¿Ð¾Ñ‚Ð¾Ð¼?
// ----------------------------
// 1ï¸âƒ£ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ (ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸) Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ Ð² call stack.
// 2ï¸âƒ£ setTimeout Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ¾Ð»Ð±ÑÐº Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘Ñ‚ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð² background.
// 3ï¸âƒ£ ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑ‚ÑÑ, Ð½Ðµ Ð¾Ð¶Ð¸Ð´Ð°Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°.
// 4ï¸âƒ£ ÐšÐ¾Ð³Ð´Ð° Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð¸ÑÑ‚ÐµÐºÐ°ÐµÑ‚, ÐºÐ¾Ð»Ð±ÑÐº Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ Ð² Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ Ð·Ð°Ð´Ð°Ñ‡.
// 5ï¸âƒ£ ÐšÐ¾Ð»Ð±ÑÐº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐµ, ÐºÐ¾Ð³Ð´Ð° call stack ÑÐ²Ð¾Ð±Ð¾Ð´ÐµÐ½.

// â— Ð’ÐÐ–ÐÐž:
// Ð¡Ð°Ð¼ Ð¿Ð¾ ÑÐµÐ±Ðµ ÐºÐ¾Ð»Ð±ÑÐº ÐÐ• Ð´ÐµÐ»Ð°ÐµÑ‚ ÐºÐ¾Ð´ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¼.
// ÐžÐ½ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÐŸÐžÐ—Ð–Ð•,
// Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð° Ð¸ Ð¾ÑÐ²Ð¾Ð±Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ call stack.

// ----------------------------
// ÐšÐ°ÐºÐ¸Ðµ ÐµÑ‰Ñ‘ ÐµÑÑ‚ÑŒ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð² JS?
// ÐŸÐ¾Ð¼Ð¸Ð¼Ð¾ setTimeout() Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹, Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ ÐµÑÑ‚ÑŒ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹:
// Geolocation API (Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ)
// WebSockets (Ð´Ð²ÑƒÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½ÐµÐµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸)
// AJAX (Fetch API) (Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹)
// requestAnimationFrame (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ñ)
// Web Workers (Ñ„Ð¾Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ñ‚ÑÐ¶Ñ‘Ð»Ñ‹Ñ… Ð·Ð°Ð´Ð°Ñ‡)
// File API (Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ)

// ÐÐ°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð²Ð°Ð¶Ð½Ñ‹Ð¼ Ð¸ Ñ‡Ð°ÑÑ‚Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°ÑŽÑ‰Ð¸Ð¼ÑÑ ÑÐ²Ð»ÑÐµÑ‚ÑÑ AJAX Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹
// AJAX â€” ÑÑ‚Ð¾ Ð¼ÐµÑ‚Ð¾Ð´ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±Ð¼ÐµÐ½Ð° Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¼ÐµÐ¶Ð´Ñƒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð¼ Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼.
// ðŸ“Œ Ð Ð°Ð½ÑŒÑˆÐµ: Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°, Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ð»Ð¾ÑÑŒ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ.
// ðŸ“Œ Ð¡ÐµÐ¹Ñ‡Ð°Ñ (Ñ AJAX): Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ Ñ„Ð¾Ð½Ð¾Ð¼, Ð° Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼!

// ----------------------------
// Ð§Ð°Ñ‰Ðµ Ð²ÑÐµÐ³Ð¾ Ð¼Ñ‹ Ð±ÑƒÐ´ÐµÐ¼ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ Ðº ÐºÐ°ÐºÐ¾Ð¼Ñƒ-Ñ‚Ð¾ API
// ðŸ“Œ **API (Application Programming Interface) â€” ÑÑ‚Ð¾ Ñ‡Ð°ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ð¼ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸ÐµÐ¼ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ **Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð³Ð»Ð¸ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³ Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¼.

// ðŸ“Œ Ð’ Ð²ÐµÐ±-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ Ñ‚Ð¸Ð¿Ð¾Ð² API:
// 1. **DOM API**
// 2. **Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ðµ API**
// 3. **Ð¡Ð¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹ API**
// 4. **"ÐžÐ½Ð»Ð°Ð¹Ð½" API** (Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½ÐµÐµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ "API")

// ðŸ“Œ **"ÐžÐ½Ð»Ð°Ð¹Ð½" API** â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð¾Ñ‚Ð²ÐµÑ‚.
// ðŸ“Œ ÐœÑ‹ Ð¼Ð¾Ð¶ÐµÐ¼ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð²ÐµÐ±-API (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Node.js) Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ðµ API (3rd-party APIs).

// ----------------------------
// Ð”ÐµÐ½Ð¸Ñ Ð¸Ð· Tg
// https://t.me/c/2189438448/3/443

// 1
console.log('start'); // 1ï¸âƒ£ Ð¡Ñ€Ð°Ð·Ñƒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Call Stack: console.log Ð’Ñ‹Ð²Ð¾Ð´: start

const fn = () =>
	new Promise((resolve, reject) => {
		console.log(1); // 4ï¸âƒ£ Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Promise
		// Promise executor ÐÐ• Ð¿Ð¾Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð² Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÑƒ
		// ÐžÐ½ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ // Ð’Ñ‹Ð²Ð¾Ð´: 1
		resolve('success'); // 5ï¸âƒ£ resolve ÐÐ• Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑÑ€Ð°Ð·Ñƒ
		// ÐžÐ½ ÑÑ‚Ð°Ð²Ð¸Ñ‚ .then(...) Ð² Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ MICROTASK QUEUE
	});

console.log('middle'); // 2ï¸âƒ£ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð’Ñ‹Ð²Ð¾Ð´: middle

fn().then(res => {
	console.log(res); // 7ï¸âƒ£ Ð­Ñ‚Ð¾ ÐœÐ˜ÐšÐ ÐžÐ¢ÐÐ¡ÐšÐ
	// Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð²ÑÐµÐ³Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°
	// Ð’Ñ‹Ð²Ð¾Ð´: success
});

console.log('end'); // 3ï¸âƒ£ ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ console.log Ð’Ñ‹Ð²Ð¾Ð´: end

// Ð’Ñ‹Ð²Ð¾Ð´:
// start
// middle
// 1
// end
// success

// Ð¯ Ð¿Ñ€Ð¾Ð½ÑƒÐ¼ÐµÑ€ÑƒÑŽ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ JS
console.log('start'); // 1
console.log('middle'); // 2
fn(); // 3
// Ð²Ð½ÑƒÑ‚Ñ€Ð¸ fn:
console.log(1); // 4
resolve('success'); // 5
// then Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÑ‚ÑÑ      // 6 (Ð’ÐÐ–ÐÐž)
console.log('end'); // 6 (Ð² Ð²Ñ‹Ð²Ð¾Ð´Ðµ)
// Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ   // 7
console.log('success');

// 2
const promise = new Promise((resolve, reject) => {
	console.log(1); // 1ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Call Stack Ð’Ñ‹Ð²Ð¾Ð´ ÑÑ€Ð°Ð·Ñƒ: 1

	setTimeout(() => {
		// 5ï¸âƒ£ MACROTASK (setTimeout)
		// ÐŸÐ¾Ð¿Ð°Ð» Ð² Web API â†’ Macrotask Queue
		// Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ, ÐºÐ¾Ð³Ð´Ð° Call Stack ÑÑ‚Ð°Ð½ÐµÑ‚ Ð¿ÑƒÑÑ‚Ñ‹Ð¼
		console.log('timerStart'); // 6ï¸âƒ£ Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ macrotask // Ð’Ñ‹Ð²Ð¾Ð´: timerStart
		resolve('success'); // 7ï¸âƒ£ resolve ÐÐ• Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ .then ÑÑ€Ð°Ð·Ñƒ // ÐžÐ½ ÐºÐ»Ð°Ð´Ñ‘Ñ‚ callback Ð¸Ð· .then Ð² MICROTASK QUEUE
		console.log('timerEnd'); // 8ï¸âƒ£ Ð’ÑÑ‘ ÐµÑ‰Ñ‘ Ñ‚Ð° Ð¶Ðµ macrotask Ð’Ñ‹Ð²Ð¾Ð´: timerEnd
	}, 0);

	console.log(2); // 2ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Call Stack Ð’Ñ‹Ð²Ð¾Ð´: 2
});

promise.then(res => {
	// 9ï¸âƒ£ MICROTASK
	// Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ:
	// - Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ macrotask (setTimeout)
	// - ÐºÐ¾Ð³Ð´Ð° Call Stack ÑÑ‚Ð°Ð½ÐµÑ‚ Ð¿ÑƒÑÑ‚Ñ‹Ð¼
	console.log(res);
	// Ð’Ñ‹Ð²Ð¾Ð´: success
});

console.log(4); // 3ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Call Stack Ð’Ñ‹Ð²Ð¾Ð´: 4

// Ð’Ñ‹Ð²Ð¾Ð´:
// 1
// 2
// 4
// timerStart
// timerEnd
// success

// 3
console.log('start'); // 1) ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾: ÑÑ€Ð°Ð·Ñƒ Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚

const promise1 = Promise.resolve().then(() => {
	// microtask: Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°, Ð½Ð¾ Ð”Ðž setTimeout
	console.log('promise1'); // 3)

	// setTimeout ÑƒÑ…Ð¾Ð´Ð¸Ñ‚ Ð² Web API (Timers), Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð²ÐµÑ€Ð½Ñ‘Ñ‚ÑÑ ÐºÐ°Ðº macrotask
	const timer2 = setTimeout(() => {
		console.log('timer2'); // 6) Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• timer1, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½ Ð¿Ð¾Ð·Ð¶Ðµ
	}, 0);
});

const timer1 = setTimeout(() => {
	// macrotask: Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¾Ñ‡Ð¸ÑÑ‚ÑÑ‚ÑÑ microtasks (promise1)
	console.log('timer1'); // 4)

	// microtask: Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¡Ð ÐÐ—Ð£ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ timer1 (Ð´Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°)
	const promise2 = Promise.resolve().then(() => {
		console.log('promise2'); // 5)
	});
}, 0);

console.log('end'); // 2) ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾: ÑÑ€Ð°Ð·Ñƒ Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚

// Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº:
// start
// end
// promise1
// timer1
// promise2
// timer2

// 4
// Ð¢ÑƒÑ‚ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚: Promise ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ, Ð½Ð¾ ÐÐ˜ÐšÐžÐ“Ð”Ð Ð½Ðµ resolve / reject, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ .then Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ.
console.log('start'); // 1) sync -> Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚: start

const promise11 = new Promise((resolve, reject) => {
	console.log(1); // 2) sync (executor Ð¿Ñ€Ð¾Ð¼Ð¸ÑÐ°) -> Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚: 1

	// â—ï¸Ð’ÐÐ–ÐÐž: Ñ‚ÑƒÑ‚ Ð½ÐµÑ‚ resolve() Ð¸ Ð½ÐµÑ‚ reject()
	// Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ promise1 Ð½Ð°Ð²ÑÐµÐ³Ð´Ð° Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð² ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¸ "pending"
});

promise1.then(res => {
	console.log(2); // ðŸš« ÐÐ• Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°
	// Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ then Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð³Ð´Ð° Ð¿Ñ€Ð¾Ð¼Ð¸Ñ fulfilled/rejected
});

console.log('end'); // 3) sync -> Ð²Ñ‹Ð²ÐµÐ´ÐµÑ‚: end

// Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº:
// start
// 1
// end

// 5
console.log('start'); // 1ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Call Stack Ð’Ñ‹Ð²Ð¾Ð´: start

const fn1 = () =>
	new Promise((resolve, reject) => {
		console.log(1);
		// 4ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
		// Promise executor Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¡Ð ÐÐ—Ð£ Ð½Ð¾ Ð¢ÐžÐ›Ð¬ÐšÐž ÐºÐ¾Ð³Ð´Ð° fn() Ð’Ð«Ð—Ð’ÐÐ›Ð˜ Ð’Ñ‹Ð²Ð¾Ð´: 1

		resolve('success'); // 5ï¸âƒ£ resolve ÐÐ• Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
		// ÐžÐ½ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚ Promise Ð² fulfilled Ð¸ Ð“ÐžÐ¢ÐžÐ’Ð˜Ð¢ then(...) Ðº Ð¿Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ Ð² MICROTASK QUEUE
	});

console.log('middle'); // 2ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž Call Stack Ð’Ñ‹Ð²Ð¾Ð´: middle

fn1().then(res => {
	console.log(res); // 7ï¸âƒ£ ÐœÐ˜ÐšÐ ÐžÐ¢ÐÐ¡ÐšÐ
	// then Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð²ÑÐµÐ³Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° Ð’Ñ‹Ð²Ð¾Ð´: success
});
// 6ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
// Ð—Ð´ÐµÑÑŒ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð’Ð«Ð—ÐžÐ’ fn()
// â†’ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ Promise
// â†’ executor Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ
// â†’ then Ð Ð•Ð“Ð˜Ð¡Ð¢Ð Ð˜Ð Ð£Ð•Ð¢Ð¡Ð¯

console.log('end');
// 3ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
// ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ console.log
// Ð’Ñ‹Ð²Ð¾Ð´: end

// Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº:
// start
// middle
// 1
// end
// success

// 6
// helper: Promise, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ "Ð·Ð°Ñ€ÐµÐ·Ð¾Ð»Ð²Ð¸Ñ‚ÑÑ" Ñ‡ÐµÑ€ÐµÐ· delay Ð¼Ñ
// Ð’Ð°Ð¶Ð½Ð¾: resolve Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ setTimeout â†’ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ "ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ñ€ÐµÐ·Ð¾Ð»Ð²Ð°" Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ðº MACROTASK (Ñ‚Ð°Ð¹Ð¼ÐµÑ€)
const myPromise = delay =>
	new Promise((res, rej) => {
		setTimeout(res, delay); // â± MACROTASK: Ñ‡ÐµÑ€ÐµÐ· delay Ð¼Ñ Ð²Ñ‹Ð·Ð¾Ð²ÐµÑ‚ÑÑ res()
	});

/*
  ðŸ”¥ Ð“Ð›ÐÐ’ÐÐžÐ• ÐŸÐ ÐÐ’Ð˜Ð›Ðž EVENT LOOP:
  1) Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ Ð¾Ð´Ð½Ñƒ MACROTASK (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, setTimeout callback)
  2) ÐŸÐ¾Ñ‚Ð¾Ð¼ ÑÑ€Ð°Ð·Ñƒ Ð²Ñ‹Ñ‡Ð¸Ñ‰Ð°ÐµÐ¼ Ð’Ð¡Ð• MICROTASK (Promise.then callbacks)
  3) ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð±ÐµÑ€Ñ‘Ð¼ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ MACROTASK
*/

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// 0ms (ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾) â€” Ð¼Ñ‹ Ð¢ÐžÐ›Ð¬ÐšÐž Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ñ‹ Ð¸ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ‹
// ÐÐ¸ÐºÐ°ÐºÐ¸Ñ… console.log Ñ‚ÑƒÑ‚ Ð½ÐµÑ‚, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ ÑÑ€Ð°Ð·Ñƒ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ.
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms (MACROTASK)
setTimeout(() => console.log('in setTimeout1'), 1000);

// Promise1: Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms (MACROTASK), ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ´ÐµÐ»Ð°ÐµÑ‚ resolve()
// Ð .then(...) â€” ÑÑ‚Ð¾ MICROTASK, Ð½Ð¾ Ð¾Ð½Ð° Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐŸÐžÐ¡Ð›Ð• resolve()
myPromise(1000).then(() => console.log('in Promise 1'));

// Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 100ms (MACROTASK)
setTimeout(() => console.log('in setTimeout2'), 100);
Ðº;

// Promise2: Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 2000ms (MACROTASK) â†’ Ð¿Ð¾ÑÐ»Ðµ resolve Ð±ÑƒÐ´ÐµÑ‚ MICROTASK (.then)
myPromise(2000).then(() => console.log('in Promise 2'));

// Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 2000ms (MACROTASK)
setTimeout(() => console.log('in setTimeout3'), 2000);

// Promise3: Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms (MACROTASK) â†’ Ð¿Ð¾ÑÐ»Ðµ resolve Ð±ÑƒÐ´ÐµÑ‚ MICROTASK (.then)
myPromise(1000).then(() => console.log('in Promise 3'));

// Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms (MACROTASK)
setTimeout(() => console.log('in setTimeout4'), 1000);

// Promise4: Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 5000ms (MACROTASK) â†’ Ð¿Ð¾ÑÐ»Ðµ resolve Ð±ÑƒÐ´ÐµÑ‚ MICROTASK (.then)
myPromise(5000).then(() => console.log('in Promise'));

// ÐŸÐžÐ Ð¯Ð”ÐžÐš Ð’Ð«Ð’ÐžÐ”Ð Ð’ ÐšÐžÐÐ¡ÐžÐ›Ð¬:
// 1) in setTimeout2   // ~100ms, ÑÐ°Ð¼Ñ‹Ð¹ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€
// 2) in setTimeout1   // ~1000ms, Ð¿ÐµÑ€Ð²Ñ‹Ð¹ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms
// 3) in Promise 1     // microtask ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ»Ðµ resolve Promise(1000)
// 4) in Promise 3     // microtask ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ»Ðµ resolve Promise(1000)
// 5) in setTimeout4   // ~1000ms, Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° 1000ms
// 6) in Promise 2     // ~2000ms, microtask Ð¿Ð¾ÑÐ»Ðµ resolve Promise(2000)
// 7) in setTimeout3   // ~2000ms, Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ‚Ð°Ð¹Ð¼ÐµÑ€
// 8) in Promise       // ~5000ms, ÑÐ°Ð¼Ñ‹Ð¹ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ Promise

// 7
const promise22 = new Promise((resolve, reject) => {
	console.log(1); // 1ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
	setTimeout(() => {
		console.log('timerStart'); // 5ï¸âƒ£ MACROTASK
		resolve('success'); // 6ï¸âƒ£ ÑÑ‚Ð°Ð²Ð¸Ñ‚ .then Ð² MICROTASK
		console.log('timerEnd'); // 7ï¸âƒ£ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ Ñ‚Ð° Ð¶Ðµ MACROTASK
	}, 0);
	console.log(2); // 2ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
});

promise.then(res => {
	console.log(res); // 8ï¸âƒ£ MICROTASK
});
console.log(4); // 3ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž

// 8
console.log(1); // ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾
setTimeout(() => console.log(2), 0); // MACROTASK #1 (Ñ‚Ð°Ð¹Ð¼ÐµÑ€)
Promise.resolve().then(() => console.log(3)); // MICROTASK #1
Promise.resolve().then(() =>
	// MICROTASK #2
	setTimeout(() => console.log(4)),
); // MACROTASK (Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð¿Ð¾Ð·Ð¶Ðµ!)
Promise.resolve(console.log(5)) // âš ï¸ console.log(5) Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¡Ð ÐÐ—Ð£ (ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾)
	.then(() => console.log(6)); // MICROTASK #3
setTimeout(() => console.log(7)); // MACROTASK #2 (Ñ‚Ð°Ð¹Ð¼ÐµÑ€, delay Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ 0)
console.log(8); // ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾

// âš ï¸ Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÑŽÑ‚ÑÑ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Promise.resolve(...) (ÐºÐ°Ðº Ð¸ Ñƒ Ð»ÑŽÐ±Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸).
// Ð¢Ð¾ ÐµÑÑ‚ÑŒ console.log(5) Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ, Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ñ‚Ð¾Ð¼ Promise ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ÑÑ.

// Ð’Ñ‹Ð²Ð¾Ð´
// 1
// 5
// 8
// 3
// 6
// 2
// 7
// 4

// 9
console.log('start'); // 1) Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž (Call Stack) â†’ ÑÑ€Ð°Ð·Ñƒ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚: start

// promise1: Promise.resolve() ÑÐ¾Ð·Ð´Ð°Ñ‘Ñ‚ ÑƒÐ¶Ðµ "resolved" Ð¿Ñ€Ð¾Ð¼Ð¸Ñ,
// Ð½Ð¾ ÐºÐ¾Ð»Ð±ÑÐº .then(...) ÐÐ• Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ ÑÑ€Ð°Ð·Ñƒ â€” Ð¾Ð½ ÑƒÑ…Ð¾Ð´Ð¸Ñ‚ Ð² MICROTASK QUEUE
const promise111 = Promise.resolve().then(() => {
	console.log('promise1'); // 3) MICROTASK â†’ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ Ð²ÑÐµÐ³Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð°

	// Ð’Ð½ÑƒÑ‚Ñ€Ð¸ Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸ ÑÑ‚Ð°Ð²Ð¸Ð¼ Ñ‚Ð°Ð¹Ð¼ÐµÑ€ â†’ ÑÑ‚Ð¾ MACROTASK (Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð¾Ð²)
	const timer2 = setTimeout(() => {
		console.log('timer2'); // 7) MACROTASK â†’ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¿Ð¾Ð·Ð¶Ðµ
	}, 0);
});

// timer1: setTimeout Ð²ÑÐµÐ³Ð´Ð° ÐºÐ»Ð°Ð´Ñ‘Ñ‚ ÐºÐ¾Ð»Ð±ÑÐº Ð² MACROTASK QUEUE
const timer11 = setTimeout(() => {
	console.log('timer1'); // 4) MACROTASK â†’ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð°Ñ‚ÑÑ

	// Ð’Ð½ÑƒÑ‚Ñ€Ð¸ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð° ÑÐ¾Ð·Ð´Ð°Ñ‘Ð¼ Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÑƒ (.then)
	const promise2 = Promise.resolve().then(() => {
		console.log('promise2'); // 5) MICROTASK â†’ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¡Ð ÐÐ—Ð£ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ timer1
	});
}, 0);

console.log('end'); // 2) Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž â†’ ÑÑ€Ð°Ð·Ñƒ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚: end

/*
  ðŸ”¥ ÐŸÐ ÐÐ’Ð˜Ð›Ðž EVENT LOOP:
  1) Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ Ð²ÐµÑÑŒ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÐ¾Ð´ (Call Stack)
  2) ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð²Ñ‹Ñ‡Ð¸Ñ‰Ð°ÐµÐ¼ Ð’Ð¡Ð• Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸ (Microtask Queue)
  3) ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð±ÐµÑ€Ñ‘Ð¼ ÐžÐ”ÐÐ£ Ð¼Ð°ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÑƒ (Macrotask Queue: setTimeout)
  4) ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¼Ð°ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸ ÑÐ½Ð¾Ð²Ð° Ð²Ñ‹Ñ‡Ð¸Ñ‰Ð°ÐµÐ¼ Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐºÐ¸
*/

// Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚
// start
// end
// promise1
// timer1
// promise2
// timer2

// 10
// Ð¡Ð¢ÐÐ’Ð˜Ðœ Ð¢ÐÐ™ÐœÐ•Ð 
// setTimeout Ð²ÑÐµÐ³Ð´Ð° ÐºÐ»Ð°Ð´Ñ‘Ñ‚ ÐºÐ¾Ð»Ð±ÑÐº Ð² MACROTASK QUEUE
setTimeout(function timeout() {
	console.log('Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚'); // 4ï¸âƒ£ MACROTASK â†’ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ ÐŸÐžÐ¡Ð›Ð• Ð¼Ð¸ÐºÑ€Ð¾Ñ‚Ð°ÑÐ¾Ðº
}, 0);
// Ð¡ÐžÐ—Ð”ÐÐÐœ PROMISE
// executor (Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ new Promise) Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
let p = new Promise(function (resolve, reject) {
	console.log('Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¼Ð¸ÑÐ°'); // 1ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž
	resolve(); // Ñ€ÐµÐ·Ð¾Ð»Ð²Ð¸Ñ‚ Ð¿Ñ€Ð¾Ð¼Ð¸Ñ (then ÑÑ‚Ð°Ð½ÐµÑ‚ MICROTASK)
});
// ÐžÐ‘Ð ÐÐ‘ÐžÐ¢Ð§Ð˜Ðš PROMISE
// .then(...) â€” ÑÑ‚Ð¾ MICROTASK
p.then(function () {
	console.log('ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¿Ñ€Ð¾Ð¼Ð¸ÑÐ°'); // 3ï¸âƒ£ MICROTASK
});
// ÐžÐ‘Ð«Ð§ÐÐ«Ð™ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐ«Ð™ ÐšÐžÐ”
console.log('ÐšÐ¾Ð½ÐµÑ† ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°'); // 2ï¸âƒ£ Ð¡Ð˜ÐÐ¥Ð ÐžÐÐÐž

// ÐœÐ¸ÐºÑ€Ð¾-Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ
// await = â€œÐ¿Ð°ÑƒÐ·Ð° Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· microtaskâ€
// Ð”Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ await Ð½Ð° null, 0, "hi" â€” Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð·Ñ€Ñ‹Ð².
// 1
console.log('Start');

async function asyncFunc() {
	console.log('Async 1');
	await null;
	console.log('Async 2');
}

asyncFunc();
console.log('End');

// 2
console.log('Start');

async function f() {
	console.log('Async 1');
	await Promise.resolve();
	console.log('Async 2');
}

f();

setTimeout(() => console.log('Timeout'), 0);

console.log('End');

// .then(...).then(...) â€” Ð²Ñ‚Ð¾Ñ€Ð°Ñ .then Ð¿Ð¾Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð² microtask queue Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€Ð²Ð¾Ð¹ .then, Ð° Ð½Ðµ Ð·Ð°Ñ€Ð°Ð½ÐµÐµ.
console.log('Script start');

setTimeout(() => console.log('setTimeout'), 0);

Promise.resolve()
	.then(() => console.log('Promise 1'))
	.then(() => console.log('Promise 2'));

queueMicrotask(() => console.log('queueMicrotask'));

console.log('Script end');
